<div class="container">

  <div class="block-header">
    <h2 class="text-center">{{selectedDocuments[0].name}}</h2>
  </div>
  <div>
    <tabset justified="true">
      <tab heading="Details">
        <div class="p-l-10 p-r-10">
          <div id="profile-main">
                <div class="p-relative m-b-20">
                  <a ng-show="selectedDocuments[0].hasThumbnail === true" href="">
                    <img class="img-responsive" ng-src="data:image/png;base64,{{selectedDocuments[0].thumbnail}}" alt="">
                  </a>
                </div>
              <div ng-show="selectedDocuments.length == 1" class="hidden-xs">

                <div class="listview">

                  <div class="media">
                    <div class="pull-left p-relative col-md-7">
                      Date de dépôt
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].creationDate | date:'shortDate'}}</div>
                    </div>
                  </div>

                  <div class="media">
                    <div class="pull-left p-relative col-md-7">
                      Taille
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].size | readableSize: false}}</div>
                    </div>
                  </div>

                  <div class="media">
                    <div class="pull-left p-relative col-md-7">
                      Type
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].type}}</div>
                    </div>
                  </div>

                  <div class="media">
                    <div class="pull-left p-relative col-md-7">
                      Date de modification
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].modificationDate | date:'shortDate'}}</div>
                    </div>
                  </div>

                  <div class="media">
                    <div class="pull-left p-relative col-md-7">
                      Date d'expiration
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].expirationDate | date:'shortDate'}}</div>
                    </div>
                  </div>
                  <div class="media">
                    <div class="pull-left col-md-7">
                      Chiffré
                    </div>
                    <div class="media-body">
                      <div class="col-sm-4 m-b-20">
                        <div class="toggle-switch">
                          <input id="ts1" type="checkbox" hidden="hidden" checked="selectedDocuments[0].ciphered">
                          <label for="ts1" class="ts-helper"></label>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="media">
                    <div class="pull-left col-md-7">
                      Partagé
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].shared}}</div>
                    </div>
                  </div>
                  <div class="media">
                    <div class="pull-left col-md-7">
                      Description
                    </div>
                    <div class="media-body">
                      <div class="lv-title">{{selectedDocuments[0].description}}</div>
                      <textarea class="lv-title">rtrt{{selectedDocuments[0].description}}</textarea>
                    </div>
                  </div>
                </div>
              </div>

            <div class="input-group p-b-20 p-t-20" data-ng-controller="LinshareShareActionController">
              <div class="fg-line " style="background: white;" data-ng-controller="LinshareAutocompleteController">
                <ul class="list-inline">
                  <li style="border: 1px solid #AAA; padding: 1px; margin: 2px" tooltip-placement="bottom" tooltip={{userRepresentation(recipient)}}
                      x-ng-repeat="recipient in share.recipients">{{recipient.lastName}}&nbsp;{{recipient.firstName}}
                      <span style="cursor: pointer;">
                          <i class="glyphicon glyphicon-remove" style="color: #333;"
                             x-ng-click="removeRecipients(share.recipients, $index)"></i>
                      </span>
                  </li>
                </ul>
                <input type="text" class="form-control input-sm" autocomplete="off"
                       x-ng-model="selectedContact"
                       x-typeahead-min-length="3"
                       x-typeahead-on-select="addRecipients(share.recipients, selectedContact)"
                       x-typeahead-wait-ms="30"
                       x-typeahead-loading="searchingContact"
                       x-typeahead-input-formatter="angular.noop"
                       x-typeahead="u as userRepresentation(u) for u in searchGuestRestrictedContacts($viewValue) | limitTo:3" />
              </div>
              <span class="input-group-addon last"><button class="btn bgm-blue waves-circle" ng-click="submitShare(share)"><i class="zmdi zmdi-share zmdi-hc-lg"></i></button></span>
            </div>

            <label ng-if="share.recipients.length > 0" class="p-t-20">
              <textarea ng-model="share.sharingNote" placeholder="add a note"></textarea>
            </label>
          </div>
        </div>
      </tab>

      <tab heading="Historique">
        <div ng-show="linshareModeProduction == false" class="p-l-10 p-r-10" data-ng-controller="LinshareShareActionController">
          <div class="input-group p-b-20">
            <div class="fg-line " style="background: white;">
              <ul class="list-inline">
                <li style="border: 1px solid #AAA; padding: 1px; margin: 2px" tooltip-placement="bottom" tooltip={{userRepresentation(recipient)}}
                    x-ng-repeat="recipient in share.recipients">{{recipient.lastName}}&nbsp;{{recipient.firstName}}
                      <span style="cursor: pointer;">
                          <i class="glyphicon glyphicon-remove" style="color: #333;"
                             x-ng-click="removeRecipients(share.recipients, $index)"></i>
                      </span>
                </li>
              </ul>
              <input type="text" class="form-control input-sm" autocomplete="off"
                     x-ng-model="selectedContact"
                     x-typeahead-min-length="3"
                     x-typeahead-on-select="addRecipients(share.recipients, selectedContact)"
                     x-typeahead-wait-ms="30"
                     x-typeahead-loading="searchingContact"
                     x-typeahead-input-formatter="angular.noop"
                     x-typeahead="u as userRepresentation(u) for u in searchGuestRestrictedContacts($viewValue) | limitTo:3" />
            </div>
            <span class="input-group-addon last"><button class="btn bgm-blue waves-circle" ng-click="submitShare(share)"><i class="zmdi zmdi-mail-send"></i></button></span>
          </div>

            <label ng-if="share.recipients.length > 0" class="p-t-20">
              <textarea ng-model="share.sharingNote" placeholder="add a note"></textarea>
            </label>
          <div class="p-t-20" ng-show="linshareModeProduction == false">
            <a ui-sref="share.files.new-share({selected: selectedDocuments})" href="">partage avancé</a>
          </div>
          <div ng-show="linshareModeProduction == false">
            share{{share}}<br />
            contact {{selectedContact}}
            shareTabActive {{shareTabActive}}
          </div>
        </div>
      </tab>
    </tabset>

  </div>

</div>
