<div id="searchFilterCtn">
  <h2><i class="ls-settings m-r-10"></i><span translate>FILTER_COMPONENT.ADVANCED_SEARCH_TITLE</span></h2>
  <div class="hidden-xs row fix-margin-row col-md-12 m-t-10 formsearch" style="float:none;">
    <div data-ng-if="::filterBoxSize" class="clearfix">
      <label class="title-label" translate>FILTER_COMPONENT.FILTER_BY_SIZE</label>
      <div class="clearfix"></div>
      <!--SIZE START -->
      <div class="col-sm-4 p-l-0">
        <div class="input-group">
          <span class="input-group-addon icon-size-fix">
            <i class="zmdi zmdi-trending-down" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}"></i>
          </span>
          <div class="fg-line">
            <input type="text" data-ng-disabled="!filterBoxVm.showUnit()"
                   class="form-control" name="start"
                   maxlengh="3" placeholder="min"
                   data-ng-model="filterBoxVm.sizeStart">
          </div>
        </div>
      </div>
      <!--SIZE END -->
      <div class="col-sm-4">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="zmdi zmdi-trending-up" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}"></i>
          </span>
          <div class="fg-line">
            <input type="text" data-ng-disabled="!filterBoxVm.showUnit()" name="end" class="form-control"
                   placeholder="max"
                   data-ng-model="filterBoxVm.sizeEnd"
                   maxlengh="3"/>
          </div>
        </div>
      </div>
      <!--SIZE UNITY -->
      <div class="col-sm-3">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="fa fa-database" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}"></i>
          </span>
          <div class="fg-line" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}">
            <select chosen
                    data-placeholder-text-single="'{{::'FILTER_COMPONENT.UNIT' | translate}}'"
                    disable-search="true"
                    allow-single-deselect="true"
                    data-ng-model="filterBoxVm.unitSize"
                    data-ng-init="filterBoxVm.unitSize = filterBoxVm.unitService.units.MB"
                    class="form-control custumSelect outlineFFremove w-100"
                    data-ng-disabled="!filterBoxVm.showUnit()"
                    data-ng-options="unit.value for unit in filterBoxVm.unitService.units track by unit.value">
            </select>
          </div>
        </div>
      </div>
      <!--CHECKBOX INIT-->
      <div class="col-sm-1">
        <label class="checkbox checkbox-inline">
          <input type="checkbox" data-ng-checked="true" name="check"
                 data-ng-checked="filterBoxVm.showUnit()"
                 data-ng-model="filterBoxVm.showUnit"
                 data-ng-model-options="{ getterSetter: true }"
                 data-ng-init="filterBoxVm.showUnit(filterBoxSize)">
          <i class="input-helper"></i>
        </label>
      </div>
    </div>
    <!--DATE TYPE -->
    <div data-ng-if="::filterBoxDate" class="clearfix">
      <label class="title-label" translate>FILTER_COMPONENT.FILTER_BY_DATE.HEADER</label>
      <div class="clearfix"></div>
      <!--TAG SELECT DATE -->
      <div data-ng-init="filterBoxVm.showDateRange(filterBoxDate)">
        <!--DATE START -->
        <div class="col-sm-4 p-l-0">
          <div class="date-picker input-group dp-blue" data-ng-class="{'is-opened': dateStartOpened}">
            <span class="input-group-addon icon-size-fix">
              <i class="zmdi zmdi-calendar-check ma-icon"
                 data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}"></i>
            </span>
            <div class="fg-line" data-ng-class="{'fg-toggled': dateStartOpened}">
              <input data-ng-disabled="!filterBoxVm.showDateRange()" data-ng-click="dateStartOpened = true" type="text"
                     class="form-control" datepicker-popup filterBoxVm.show-weeks="false"
                     is-open="dateStartOpened" max-date="filterBoxVm.maxDate"
                     data-ng-required="true" close-text="Close"
                     placeholder="{{::'FILTER_COMPONENT.FILTER_BY_DATE.BEGINNING_DATE' | translate}}"
                     data-ng-model="filterBoxVm.dateStart"/>
            </div>
          </div>
        </div>
        <!--DATE END -->
        <div class="col-sm-4">
          <div class="date-picker input-group dp-blue" data-ng-class="{'is-opened': dateEndOpened}">
            <span class="input-group-addon">
              <i class="zmdi zmdi-calendar-close ma-icon"
                 data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}"></i>
            </span>
            <div class="fg-line" data-ng-class="{'fg-toggled': opened2}">
              <input data-ng-disabled="!filterBoxVm.showDateRange()" data-ng-click="dateEndOpened = true"
                     type="text" class="form-control"
                     datepicker-popup filterBoxVm.show-weeks="false"
                     data-ng-model="filterBoxVm.dateEnd" is-open="dateEndOpened"
                     max-date="filterBoxV.maxDate" min-date="filterBoxVm.dateStart"
                     data-ng-required="true"
                     close-text="Close" placeholder="{{::'FILTER_COMPONENT.FILTER_BY_DATE.ENDING_DATE' | translate}}"/>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="input-group">
            <span class="input-group-addon">
              <i class="zmdi zmdi-calendar ma-icon" data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}"></i>
            </span>
            <div class="fg-line" data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}">
              <select chosen
                      data-placeholder-text-single="'{{::'FILTER_COMPONENT.DATE' | translate}}'"
                      disable-search="true"
                      allow-single-deselect="true"
                      data-ng-model="filterBoxVm.dateType"
                      class="form-control custumSelect outlineFFremove w-100"
                      data-ng-init="filterBoxVm.dateType = '1'"
                      data-ng-disabled="!filterBoxVm.showDateRange()">
                <option value="1" translate>FILTER_COMPONENT.FILTER_BY_DATE.MODIFICATION_DATE</option>
                <option value="2" translate>FILTER_COMPONENT.FILTER_BY_DATE.CREATION_DATE</option>
              </select>
            </div>
          </div>
        </div>
        <!--CHECKBOX INIT -->
        <div class="col-sm-1">
          <label class="checkbox checkbox-inline">
            <input type="checkbox" name="isDateActive" name="check"
                   data-ng-checked="filterBoxVm.showDateRange()"
                   data-ng-model="filterBoxVm.showDateRange"
                   data-ng-model-options="{ getterSetter: true }" />
            <i class="input-helper"></i>
          </label>
        </div>
      </div>
    </div>
    <!--RECIPIENT -->
    <div data-ng-if="::filterBoxUser" class="clearfix">
      <label class="title-label" translate>FILTER_COMPONENT.FILTER_BY_RECIPIENT.HEADER</label>
      <div class="clearfix"></div>
      <div class="col-sm-7 p-l-0">
        <div class="input-group" data-ng-init="filterBoxVm.showRecipients(filterBoxUser)">
          <span class="input-group-addon icon-size-fix">
            <i class="zmdi zmdi-account" data-ng-class="{disabledIcon: !filterBoxVm.showRecipients()}"></i>
          </span>
          <div class="fg-line">
            <input id="typeaheadDestinataires" type="text"
                   data-ng-disabled="!filterBoxVm.showRecipients()"
                   autocomplete="off"
                   class="form-control"
                   placeholder="{{::'FILTER_COMPONENT.FILTER_BY_RECIPIENT.PLACEHOLDER' | translate}}"
                   data-ng-model="filterBoxVm.selectedContact"
                   data-typeahead-min-length="3"
                   data-typeahead-wait-ms="30"
                   data-typeahead-input-formatter="filterBoxVm.formatLabel(filterBoxVm.selectedContact)"
                   data-uib-typeahead="u as filterBoxVm.userRepresentation(u) for u in
                                    filterBoxVm.autocompleteUserRestService.search($viewValue, 'USERS') |
                                    limitTo:3"
                   popover-placement="bottom"
                   popover-trigger="mouseenter"
                   popover-title="Email"
                   popover="{{filterBoxVm.selectedContact.mail}}">
          </div>
        </div>
      </div>
      <!--CHECKBOX -->
      <div class="col-sm-1 pull-right">
        <label class="checkbox checkbox-inline">
          <input type="checkbox" name="isDestinatairesActive"
                 data-ng-checked="filterBoxVm.showRecipients()"
                 data-ng-model="filterBoxVm.showRecipients"
                 data-ng-model-options="{ getterSetter: true }"/>
          <i class="input-helper"></i>
        </label>
      </div>
    </div>
    <!--VALIDATE-->
    <div class="m-t-50 m-b-20 p-l-0 pull-right">
      <button class="btn bgm-white waves-effect m-r-10" data-ng-click="filterBoxVm.clearParams()" translate>
        FILTER_COMPONENT.REINITIALIZE
      </button>
      <button class="btn bgm-blue waves-effect" data-ng-click="filterBoxVm.updateFilters()" translate>
        FILTER_COMPONENT.SUBMIT
      </button>
    </div>
    <div class="clearfix"></div>
  </div>
</div>
