<div id="searchFilterCtn">
  <h2><i class="ls-settings m-r-10"></i><span translate>FILTER_COMPONENT.ADVANCED_SEARCH_TITLE</span></h2>
  <div class="hidden-xs row fix-margin-row col-md-12 m-t-10 formsearch" style="float:none;">
    <div data-ng-if="::filterBoxSize" class="clearfix">
      <label class="title-label" translate>FILTER_COMPONENT.FILTER_BY_SIZE.HEADER</label>
      <div class="clearfix"></div>
      <!--SIZE START -->
      <div class="col-sm-4 p-l-0">
        <div class="input-group">
          <span class="input-group-addon icon-size-fix">
            <i class="zmdi zmdi-trending-down" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}"></i>
          </span>
          <div class="fg-line">
            <input type="text" data-ng-disabled="!filterBoxVm.showUnit()"
                   class="form-control" name="start" maxlengh="3"
                   translate-attr="{placeholder: 'FILTER_COMPONENT.FILTER_BY_SIZE.MINIMUM'}"
                   data-ng-model="filterBoxVm.sizeStart">
          </div>
        </div>
      </div>
      <!--SIZE END -->
      <div class="col-sm-4">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="zmdi zmdi-trending-up" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}"></i>
          </span>
          <div class="fg-line">
            <input type="text" data-ng-disabled="!filterBoxVm.showUnit()" name="end" class="form-control"
                   translate-attr="{placeholder: 'FILTER_COMPONENT.FILTER_BY_SIZE.MAXIMUM'}"
                   data-ng-model="filterBoxVm.sizeEnd"
                   maxlengh="3"/>
          </div>
        </div>
      </div>
      <!--SIZE UNITY -->
      <div class="col-sm-3">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="fa fa-database" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}"></i>
          </span>
          <div class="fg-line" data-ng-class="{disabledIcon: !filterBoxVm.showUnit()}">
            <md-select
                    translate-attr="{placeholder: 'FILTER_COMPONENT.UNIT'}"
                    ng-model="filterBoxVm.unitSize"
                    ng-init="filterBoxVm.unitSize = filterBoxVm.unitService.units.MB"
                    class="form-control"
                    data-ng-disabled="!filterBoxVm.showUnit()">
              <md-option ng-repeat="unit in filterBoxVm.unitService.units track by unit.value" ng-value="unit">
                {{ ::unit.value }}
              </md-option>
            </md-select>
          </div>
        </div>
      </div>
      <!--CHECKBOX INIT-->
      <div class="col-sm-1">
        <label class="checkbox checkbox-inline">
          <input
            type="checkbox"
            name="isUnitActive"
            ng-checked="filterBoxVm.showUnit()"
            ng-model="filterBoxVm.showUnit"
            ng-model-options="{ getterSetter: true }"
            ng-init="filterBoxVm.showUnit(true)"
          >
          <i class="input-helper"></i>
        </label>
      </div>
    </div>
    <!--DATE TYPE -->
    <div data-ng-if="::filterBoxDate" class="clearfix">
      <label class="title-label" translate>FILTER_COMPONENT.FILTER_BY_DATE.HEADER</label>
      <div class="clearfix"></div>
      <!--TAG SELECT DATE -->
      <div ng-init="filterBoxVm.showDateRange(true)">
        <!--DATE START -->
        <div class="col-sm-4 p-l-0">
          <div class="date-picker input-group dp-blue" data-ng-class="{'is-opened': dateStartOpened}">
            <span class="input-group-addon icon-size-fix">
              <i class="zmdi zmdi-calendar-check ma-icon"
                 data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}"></i>
            </span>
            <div class="fg-line" data-ng-class="{'fg-toggled': dateStartOpened}">
              <input data-ng-disabled="!filterBoxVm.showDateRange()" data-ng-click="dateStartOpened = true" type="text"
                     class="form-control" uib-datepicker-popup filterBoxVm.show-weeks="false"
                     is-open="dateStartOpened"
                     data-ng-required="true"
                     translate-attr="{placeholder: 'FILTER_COMPONENT.FILTER_BY_DATE.BEGINNING_DATE'}"
                     datepicker-options="{maxDate: filterBoxVm.dateEnd}"
                     data-ng-model="filterBoxVm.dateStart"/>
            </div>
          </div>
        </div>
        <!--DATE END -->
        <div class="col-sm-4">
          <div class="date-picker input-group dp-blue" data-ng-class="{'is-opened': dateEndOpened}">
            <span class="input-group-addon">
              <i class="zmdi zmdi-calendar-close ma-icon"
                 data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}"></i>
            </span>
            <div class="fg-line" data-ng-class="{'fg-toggled': opened2}">
              <input data-ng-disabled="!filterBoxVm.showDateRange()" data-ng-click="dateEndOpened = true"
                     type="text" class="form-control"
                     uib-datepicker-popup filterBoxVm.show-weeks="false"
                     data-ng-model="filterBoxVm.dateEnd" is-open="dateEndOpened"
                     datepicker-options="{minDate: filterBoxVm.dateStart, maxDate: filterBoxVm.maxDate}"
                     data-ng-required="true"
                     translate-attr="{placeholder: 'FILTER_COMPONENT.FILTER_BY_DATE.ENDING_DATE'}"/>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="input-group">
            <span class="input-group-addon">
              <i class="zmdi zmdi-calendar ma-icon" data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}"></i>
            </span>
            <div class="fg-line" data-ng-class="{disabledIcon: !filterBoxVm.showDateRange()}">
              <md-select translate-attr="{placeholder: 'FILTER_COMPONENT.DATE'}"
                      data-ng-model="filterBoxVm.dateType"
                      class="form-control"
                      data-ng-init="filterBoxVm.dateType = '1'"
                      data-ng-disabled="!filterBoxVm.showDateRange()">
                <md-option value="1" translate>FILTER_COMPONENT.FILTER_BY_DATE.MODIFICATION_DATE</md-option>
                <md-option value="2" translate>FILTER_COMPONENT.FILTER_BY_DATE.CREATION_DATE</md-option>
              </md-select>
            </div>
          </div>
        </div>
        <!--CHECKBOX INIT -->
        <div class="col-sm-1">
          <label class="checkbox checkbox-inline">
            <input
              type="checkbox"
              name="isDateActive"
              ng-checked="filterBoxVm.showDateRange()"
              ng-model="filterBoxVm.showDateRange"
              ng-model-options="{ getterSetter: true }"
            />
            <i class="input-helper"></i>
          </label>
        </div>
      </div>
    </div>
    <!--RECIPIENT -->
    <div data-ng-if="::filterBoxUser" class="clearfix">
      <label class="title-label" translate>FILTER_COMPONENT.FILTER_BY_RECIPIENT.HEADER</label>
      <div class="clearfix"></div>
      <div class="col-sm-7 p-l-0">
        <div class="input-group" ng-init="filterBoxVm.showRecipients(true)">
          <span class="input-group-addon icon-size-fix">
            <i class="zmdi zmdi-account" data-ng-class="{disabledIcon: !filterBoxVm.showRecipients()}"></i>
          </span>
          <div class="fg-line">
            <input id="typeaheadDestinataires" type="text"
                   data-ng-disabled="!filterBoxVm.showRecipients()"
                   autocomplete="off"
                   class="form-control"
                   translate-attr="{placeholder: 'FILTER_COMPONENT.FILTER_BY_RECIPIENT.PLACEHOLDER'}"
                   data-ng-model="filterBoxVm.selectedContact"
                   data-typeahead-min-length="3"
                   data-typeahead-wait-ms="30"
                   data-typeahead-input-formatter="filterBoxVm.formatLabel(filterBoxVm.selectedContact)"
                   data-uib-typeahead="u as filterBoxVm.userRepresentation(u) for u in
                                    filterBoxVm.autocompleteUserRestService.search($viewValue, 'USERS') |
                                    limitTo:3"
                   popover-placement="bottom"
                   popover-trigger="mouseenter"
                   popover-title="Email"
                   popover="{{filterBoxVm.selectedContact.mail}}">
          </div>
        </div>
      </div>
      <!--CHECKBOX -->
      <div class="col-sm-1 pull-right">
        <label class="checkbox checkbox-inline">
          <input
            type="checkbox"
            name="isDestinatairesActive"
            ng-checked="filterBoxVm.showRecipients()"
            ng-model="filterBoxVm.showRecipients"
            ng-model-options="{ getterSetter: true }"
          />
          <i class="input-helper"></i>
        </label>
      </div>
    </div>
    <!--VALIDATE-->
    <div class="m-t-50 m-b-20 p-l-0 pull-right">
      <button class="btn bgm-white waves-effect m-r-10" data-ng-click="filterBoxVm.clearParams()" translate>
        FILTER_COMPONENT.REINITIALIZE
      </button>
      <button class="btn bgm-blue waves-effect" data-ng-click="filterBoxVm.updateFilters()" translate>
        FILTER_COMPONENT.SUBMIT
      </button>
    </div>
    <div class="clearfix"></div>
  </div>
</div>
