<div class="block-header">
  <h2 class="text-center">{{currentSelectedDocument.current.name}}
     <span class="pull-right">
      <i class="zmdi zmdi-close zmdi-hc-lg" ng-click="mactrl.sidebarToggle.right = false"></i>
    </span>
  </h2>
</div>
<div>
  <tabset justified="true">
    <tab heading="{{'RIGHT_PANEL.DETAILS.TITLE' | translate}}">
      <div ng-show="currentSelectedDocument.current.name" class="p-l-10 p-r-10">
        <div id="profile-main">
          <div class="p-relative m-b-20">
            <a ng-show="currentSelectedDocument.current.hasThumbnail === true" href="">
              <img class="img-responsive" ng-src="data:image/png;base64,{{currentSelectedDocument.current.thumbnail}}" alt="">
            </a>
          </div>
          <div class="hidden-xs">

            <div class="listview">

              <div class="media">
                <div class="pull-left p-relative col-md-7">
                  {{'RIGHT_PANEL.DETAILS.UPLOAD_DATE' | translate}}
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.creationDate | date:'medium'}}</div>
                </div>
              </div>

              <div class="media">
                <div class="pull-left p-relative col-md-7">
                  {{'RIGHT_PANEL.DETAILS.SIZE' | translate}}
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.size | readableSize: false}}</div>
                </div>
              </div>

              <div class="media">
                <div class="pull-left p-relative col-md-7">
                  Type
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.type}}</div>
                </div>
              </div>

              <div class="media">
                <div class="pull-left p-relative col-md-7">
                  {{'RIGHT_PANEL.DETAILS.MODIFICATION_DATE' | translate}}
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.modificationDate | date:'medium'}}</div>
                </div>
              </div>

              <div class="media">
                <div class="pull-left p-relative col-md-7">
                  {{'RIGHT_PANEL.DETAILS.EXPIRATION_DATE' | translate}}
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.expirationDate | date:'medium'}}</div>
                </div>
              </div>
              <div ng-show="linshareModeProduction == false" class="media">
                <div class="pull-left col-md-7">
                  {{'RIGHT_PANEL.DETAILS.CIPHERED' | translate}}
                </div>
                <div class="media-body">
                          <span ng-show="currentSelectedDocument.current.ciphered == true">
                            <i class="zmdi zmdi-shield-check zmdi-hc-lg mdc-text-green"></i>
                          </span>
                          <span ng-show="currentSelectedDocument.current.ciphered == false">
                            <i class="zmdi zmdi-shield-check zmdi-hc-lg mdc-text-grey"></i>
                          </span>
                </div>
              </div>

              <div class="media">
                <div class="pull-left col-md-7">
                  {{'RIGHT_PANEL.DETAILS.SHARED_WITH' | translate}}
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.shared}} {{'RIGHT_PANEL.DETAILS.PEOPLE_SHARED_WITH' |
                    translate}}
                    <i class="zmdi zmdi-eye zmdi-hc-lg mdc-text-blue p-l-10"
                       style="cursor: pointer"
                       ng-init="isCollapsed = true"
                       ng-click="isCollapsed = !isCollapsed"></i>
                  </div>
                </div>
              </div>

              <div class="media">
                <div collapse="isCollapsed">
                  <ul ng-repeat="shareElement in currentSelectedDocument.current.shares">
                    <li><a href="mailto:{{shareElement.recipient.mail}}">{{shareElement.recipient.firstName}}
                      {{shareElement.recipient.lastName}}</a></li>
                  </ul>
                </div>
              </div>

              <div class="media">
                <div class="pull-left col-md-7">
                  {{'RIGHT_PANEL.DETAILS.DESCRIPTION' | translate}}
                </div>
                <div class="media-body">
                  <div class="lv-title">{{currentSelectedDocument.current.description}}</div>
                </div>
              </div>
            </div>
          </div>

          <label ng-if="share.recipients.length > 0" class="p-t-20">
            <textarea ng-model="share.sharingNote" placeholder="add a note"></textarea>
          </label>
        </div>
      </div>
      <div ng-hide="currentSelectedDocument.current.name" class="p-l-10 p-r-10">
        {{"RIGHT_PANEL.EMPTY" | translate }}
      </div>
    </tab>

    <tab heading="{{'RIGHT_PANEL.ACTIVITIES.TITLE' | translate}}" ng-show="devMode">
      <div ng-show="linshareModeProduction == false" class="p-l-10 p-r-10"
           data-ng-controller="LinshareShareActionController">
        <div class="input-group p-b-20">
          <div class="fg-line " style="background: white;">
            <ul class="list-inline">
              <li style="border: 1px solid #AAA; padding: 1px; margin: 2px" tooltip-placement="bottom"
                  tooltip={{userRepresentation(recipient)}}
                  x-ng-repeat="recipient in share.recipients">{{recipient.lastName}}&nbsp;{{recipient.firstName}}
                      <span style="cursor: pointer;">
                          <i class="glyphicon glyphicon-remove" style="color: #333;"
                             x-ng-click="removeRecipients(share.recipients, $index)"></i>
                      </span>
              </li>
            </ul>
            <input type="text" class="form-control input-sm" autocomplete="off"
                   x-ng-model="selectedContact"
                   x-typeahead-min-length="3"
                   x-typeahead-on-select="addRecipients(share.recipients, selectedContact)"
                   x-typeahead-wait-ms="30"
                   x-typeahead-loading="searchingContact"
                   x-typeahead-input-formatter="angular.noop"
                   x-typeahead="u as userRepresentation(u) for u in searchGuestRestrictedContacts($viewValue) | limitTo:3"/>
          </div>
            <span class="input-group-addon last">
              <button class="btn bgm-blue waves-circle" ng-click="submitShare(share)">
                <i class="zmdi zmdi-mail-send"></i>
              </button>
            </span>
        </div>

        <label ng-if="share.recipients.length > 0" class="p-t-20">
          <textarea ng-model="share.sharingNote" placeholder="add a note"></textarea>
        </label>

        <div class="p-t-20" ng-show="linshareModeProduction == false">
          <a ui-sref="share.files.new-share({selected: selectedDocuments})" href="">{{'RIGHT_PANEL.ACTIVITIES.ADVANCED_SHARE'
            | translate}}</a>
        </div>
        <div ng-show="linshareModeProduction == false">
          share{{share}}<br/>
          contact {{selectedContact}}
          shareTabActive {{shareTabActive}}
        </div>
      </div>
    </tab>
  </tabset>

</div>
