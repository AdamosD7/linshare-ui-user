<div class="feature-notice" ng-if="sharedKeyCreationVm.feature.required">
  <i class="zmdi zmdi-alert-circle-o"></i>
  <p translate>SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.REQUIRED</p>
</div>

<span class="instruction" translate>SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.INSTRUCTION</span>

<div class="instruction-step">
  <div class="instruction-description">
    <span class="numbering">1</span>
    <span translate>SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.STEP_1</span>
  </div>
</div>

<div class="instruction-step">
  <div class="instruction-description">
    <span class="numbering">2</span>
    <span translate>SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.STEP_2</span>
  </div>

  <div class="shared-key">
    <button
      class="btn btn-primary waves"
      ng-if="sharedKeyCreationVm.keyCreationStatus === 'none'"
      ng-click="sharedKeyCreationVm.generateSharedKey()"
      translate
    >
      SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.GENERATE_KEY
    </button>

    <div
      class="key-setup"
      ng-if="sharedKeyCreationVm.keyCreationStatus === 'done'"
    >
      <p
        translate
        translate-value-date="{{sharedKeyCreationVm.keyCreationDate | lsDate: 'mediumDate':locale}}"
      >
        SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.KEY_CREATED_ON
      </p>
      <qrcode
        text="{{::sharedKeyCreationVm.freeOTPUri}}"
        size="160"
      ></qrcode>

      <a ng-click="showHint =! showHint">{{'SECOND_FACTOR_AUTH.SHARED_KEY_CREATION.CAN_NOT_SCAN' | translate}}</a>
      <free-otp-setup-hint
        ng-show="showHint"
        config="sharedKeyCreationVm.freeOTPConfig"
      ></free-otp-setup-hint>
    </div>
  </div>
</div>